{"version":3,"sources":["components/Logo/Logo.module.css","containers/List/List.module.css","components/Splash/Splash.module.css","img/bubbleF.png","pbdw.pdf","components/navbar/navbar.module.css","containers/Search/Search.module.css","components/Preview/Preview.js","containers/List/List.js","components/Details/Details.js","components/Logo/Logo.js","components/Splash/Splash.js","containers/Search/Search.js","App.js","registerServiceWorker.js","index.js"],"names":["module","exports","preview","props","exceedanceCheck","exceedance","console","log","toggleDetails","className","name","onClick","clicked","id","List","schools","style","textAlign","queried","map","school","key","school_name","district","action_level_exceedance","closeDetais","onSchoolSelect","classes","Details","loadedSchool","sampleDate","Date","sample_date","sampleYear","getFullYear","sampleMonth","getMonth","e","closeDetails","result","water_system_name","Nav","href","rel","target","src","factsolotl","alt","Splash","Logo","title","facts","width","height","type","startSearch","Search","state","selectedschoolId","error","query1","query2","query3","detailsSelected","total","beginSearch","this","setState","qeury2","exceedanceQuery","alert","axios","get","then","response","data","records","length","newSchool","v4","catch","schoolQuery","selectedSchoolId","currentSchool","i","newQuery","query","value","toggleExceedanceOn","toggleExceedanceOff","detailsDisplay","resultsDisplay","schoolDetailsHandler","search","onSubmit","preventDefault","queryHandler","onChange","handleYearFilter","placeholder","event","onToggleQuery","toggleSearch","Component","App","React","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","interceptors","request","use","Promise","reject","ReactDOM","render","document","getElementById","URL","process","origin","addEventListener","fetch","status","headers","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.9a03cf96.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"leftLogo\":\"Logo_leftLogo__yKmfW\",\"header\":\"Logo_header__1wXHb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"List_list__2JTWI\",\"redBG\":\"List_redBG__3v7Jh\",\"greenBG\":\"List_greenBG__1EYTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"startSearch\":\"Splash_startSearch__UmNSt\"};","module.exports = __webpack_public_path__ + \"static/media/bubbleF.ecb67f7a.png\";","module.exports = __webpack_public_path__ + \"static/media/pbdw.cb4189a5.pdf\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"navbar_nav__3IIWD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"toggleOn\":\"Search_toggleOn__2GMPh\",\"input\":\"Search_input__3nUeW\",\"toggleOff\":\"Search_toggleOff__3MPn4\",\"select\":\"Search_select__1gg29\",\"detailBox\":\"Search_detailBox__2C408\",\"searchToggle\":\"Search_searchToggle__2sYVV\"};","import React from \"react\";\n\nimport \"./Preview.css\";\n\nconst preview = (props) => {\n\n  let exceedanceCheck;\n\n  if (props.exceedance === 'Yes') {\n      exceedanceCheck = 'redBG pulse'\n  } else if (props.exceedance === 'No') {\n      exceedanceCheck = 'greenBG'\n  }\n \n  console.log(props.toggleDetails)\n  return (\n    <div className={exceedanceCheck} >\n    <div className=\"row\">\n        <div className=\"card\">\n            <div className=\"details\">\n              <h4>{props.name}</h4>\n              <div className=\"Info\">\n                <button\n                  onClick={props.clicked}\n                  id=\"expand\"\n                  className=\"btn btn waves-effect waves-dark white\">\n                  <i id=\"chevron\" className=\"material-icons\">\n                  expand_more\n                  </i>\n                </button>\n              </div>\n            </div>\n      </div>\n    </div>\n   </div>\n  );\n}\n\n\n\n\nexport default preview;\n","import React from \"react\";\nimport Preview from \"../../components/Preview/Preview\";\nimport * as classes from \"./List.module.css\";\n\nconst List = (props) => {\n  let schools = <p style={{ textAlign: \"center\" }}>Something went wrong!</p>;\n  if (props.queried) {\n    schools = props.schools.map(school => {\n      \n      let exceedanceCheck = props.exceedanceCheck ? 'redBG' : 'greenBG'\n\n      return (\n        <div className={exceedanceCheck}>\n        <Preview\n          key={school.id}\n          name={school.school_name}\n          district={school.district}\n          exceedance={school.action_level_exceedance}\n          toggleDetails={school.toggleDetails}\n          closeDetais={school.closeDetais}\n          clicked={() => props.onSchoolSelect(school.id)}\n        />\n        </div>\n      );\n    });\n  } else {\n    schools = \n    <div className={'card'}>\n      <h1>search results</h1>\n    </div>\n  }\n  return (\n    <div className={classes.list}>\n      {schools}\n    </div>\n  );\n};\n\nexport default List;\n","import React from \"react\";\nimport * as classes from \"./Details.css\";\n\nconst Details = props => {\n  let school = (\n    <div className={\"cardDetail\"}>\n      <div className=\"card\">\n        <div className=\"card-image\">\n          <h1>school details</h1>\n        </div>\n      </div>\n    </div>\n  );\n  if (props.loadedSchool) {\n    const sampleDate = new Date(props.loadedSchool.sample_date);\n    const sampleYear = sampleDate.getFullYear();\n    const sampleMonth = sampleDate.getMonth() + 1;\n    school = (\n        <div className={classes.cardDetail}>\n          <div className=\"card\">\n          <button\n                  onClick={(e) => props.closeDetails(e)}\n                  id=\"closeBtn\"\n                  className=\"btn btn waves-effect waves-dark white\">\n                  <i id=\"close\" className=\"material-icons\">\n                    close\n                  </i>\n                </button>\n              <h4>{props.loadedSchool.school_name}</h4>\n              <p>School district: {props.loadedSchool.district}</p>\n              <p>Exceedance: {props.loadedSchool.action_level_exceedance}</p>\n              <p>Lead concentration: {props.loadedSchool.result} ppb</p>\n              <p>\n                Date sampled: {sampleMonth}/{sampleYear}\n              </p>\n              <p>Water system: {props.loadedSchool.water_system_name}</p>\n          </div>\n        </div>\n    );\n  }\n  return school;\n};\n\nexport default Details;\n","import React from \"react\";\nimport factsolotl from \"../../img/bubbleF.png\";\nimport * as classes from \"./Logo.module.css\";\n\nconst Nav = () => {\n  return (\n      <div className={classes.logo}>\n        <a\n          href=\"https://www.scientificamerican.com/article/biologys-beloved-amphibian-the-axolotl-is-racing-toward-extinction1/\"\n          rel=\"noopener noreferrer\"\n          target=\"_blank\">\n          <img\n            className={classes.leftLogo}\n            src={factsolotl}\n            alt=\"A pink cartoon axolotl\"/>\n        </a>\n      </div>\n  );\n};\n\nexport default Nav;\n","import React from \"react\";\nimport * as classes from \"./Splash.module.css\";\nimport Logo from \"../Logo/Logo\";\nimport facts from '../../pbdw.pdf';\n\nconst Splash = (props) => {\n  return (\n    <div className={classes.splash}>\n      <Logo />\n      <div>\n        <h5>\n          Factsolotl\n        </h5>\n        <p>Water quality fact finder</p>\n      </div>\n      <p>Use Factsolotl to search for lead results from tap water samples taken at public schools across California.</p>\n      <div>\n        <h1>Dont't Panic</h1>\n      </div>\n      <p>Stay informed.</p>\n      <iframe title='dwFacts'src={facts} width=\"100%\" height=\"400px\">\n    </iframe>\n      <button \n      id='startSearch'\n      type='click'\n      className='btn'\n      onClick={(e) => props.startSearch(e)}>Begin Search</button>\n    </div>\n  );\n};\n\nexport default Splash;\n","import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { v4 } from \"uuid\";\nimport List from \"../List/List\";\nimport Details from \"../../components/Details/Details\";\nimport \"./Search.module.css\";\nimport * as classes from \"./Search.module.css\";\nimport Splash from \"../../components/Splash/Splash\";\nimport Logo from \"../../components/Logo/Logo\";\n\nclass Search extends Component {\n  state = {\n    schools: [],\n    selectedschoolId: \"\",\n    error: false,\n    loadedSchool: null,\n    query1: \"\",\n    query2: \"\",\n    query3: \"\",\n    exceedance: false,\n    exceedanceCheck: false,\n    queried: false,\n    detailsSelected: false,\n    total: 0,\n    beginSearch: false\n  };\n\n  queryHandler(query1, query2, state) {\n    this.setState({\n      ...state,\n      query1: query1,\n      qeury2: query2\n    });\n\n    let exceedanceQuery =\n      \"https://data.ca.gov/api/3/action/datastore_search?resource_id=5ebb2d68-1186-4937-acaf-8564c9a01ed6&q=\" +\n      this.state.query1 +\n      \", \" +\n      this.state.query2 +\n      \", \" +\n      this.state.query3 +\n      \", yes\";\n\n    if (\n      this.state.query1 === \"\" &&\n      this.state.query2 === \"\" &&\n      this.state.query3 === \"\"\n    ) {\n      alert(\"Please enter a query.\");\n    } else if (this.state.exceedance) {\n      axios\n        .get(exceedanceQuery)\n        .then(response => {\n          const schools = response.data.result.records;\n          const total = response.data.result.total;\n\n          if (schools.length === 0) {\n            alert(\"No schools matched this search\");\n          }\n          const newSchool = schools.map(school => {\n            return {\n              ...school,\n              id: v4()\n            };\n          });\n          this.setState({\n            ...state,\n            schools: newSchool,\n            queried: true,\n            total: total\n          });\n        })\n        .catch(error => {\n          this.setState({ error: true });\n        });\n    } else {\n      axios\n        .get(\n          \"https://data.ca.gov/api/3/action/datastore_search?resource_id=5ebb2d68-1186-4937-acaf-8564c9a01ed6&q=\" +\n            this.state.query1 +\n            \", \" +\n            this.state.query2 +\n            \", \" +\n            this.state.query3\n        )\n        .then(response => {\n          const schools = response.data.result.records;\n          const total = response.data.result.total;\n\n          if (schools.length === 0) {\n            alert(\"No schools matched this search\");\n          }\n          const newSchool = schools.map(school => {\n            return {\n              ...school,\n              id: v4()\n            };\n          });\n\n          this.setState({\n            ...state,\n            schools: newSchool,\n            schoolQuery: true,\n            queried: true,\n            total: total\n          });\n        })\n        .catch(error => {\n          this.setState({ error: true });\n        });\n    }\n  }\n\n  schoolDetailsHandler(id, state) {\n    this.setState({ selectedSchoolId: id });\n    let currentSchool = this.state.schools;\n    for (let i = 0; i < currentSchool.length; i++) {\n      if (currentSchool[i].id === id) {\n        this.setState({\n          ...state,\n          loadedSchool: currentSchool[i],\n          detailsSelected: true\n        });\n      }\n    }\n  }\n\n  toggleDetails(state) {\n    this.setState({\n      ...state,\n      detailsSelected: !this.state.detailsSelected\n    });\n  }\n\n  updateQuery(newQuery, state) {\n    this.setState({\n      ...state,\n      query: newQuery\n    });\n  }\n\n  onToggleQuery(state) {\n    this.setState({\n      ...state,\n      exceedance: !this.state.exceedance\n    });\n  }\n\n  handleYearFilter(e, state) {\n    this.setState({\n      ...state,\n      query3: e.target.value\n    });\n  }\n\n  toggleSearch(state) {\n    this.setState({\n      ...state,\n      queried: !this.state.queried\n    });\n  }\n\n  startSearch(state) {\n    this.setState({\n      ...state,\n      beginSearch: true\n    });\n  }\n\n  render() {\n    const toggleExceedanceOn = this.state.exceedance\n      ? classes.toggleOn\n      : classes.toggleOff;\n    const toggleExceedanceOff = this.state.exceedance\n      ? classes.toggleOff\n      : classes.toggleOn;\n    const title = this.state.exceedance\n      ? \"Only show schools with an exceedance\"\n      : \"Search all schools\";\n\n    const detailsDisplay = (\n      <div className={classes.detailBox}>\n        <Details\n          id={this.state.selectedSchoolId}\n          loadedSchool={this.state.loadedSchool}\n          closeDetails={e => this.toggleDetails(e)}\n        />\n      </div>\n    );\n\n    const resultsDisplay = (\n      <div>\n        <label>Schools matching search: {this.state.total}</label>\n        <List\n          error={this.state.error}\n          schools={this.state.schools}\n          selectedSchoolId={this.state.selectedSchoolId}\n          onSchoolSelect={id => this.schoolDetailsHandler(id)}\n          loadedSchool={this.state.loadedSchool}\n          queried={this.state.queried}\n          toggleDetails={this.state.detailsSelected}\n        />\n      </div>\n    );\n\n    const search = (\n      <div>\n        <p>\n          Systems compare sample results from homes to EPAâ€™s action level of\n          Exceeding the action level is not a violation. Violations can be\n          assessed if a system does not perform certain required actions (e.g.,\n          public education or lead service line replacement) after the action\n          level is exceeded. Other violations may also be assessed under the\n          rule. For example, if samples are collected improperly, samples are\n          not reported, or if treatment is done incorrectly.\n        </p>\n      \n  \n        <div className=\"footer\">\n          <div className=\"card white\">\n            <div className=\"card-content grey-text\">\n              <span className=\"card-title\">{title}</span>\n              <form\n                onSubmit={e => {\n                  e.preventDefault();\n                  this.queryHandler(this.state.query1, this.state.query2);\n                }}\n              >\n                <div className={classes.select}>\n                  <label>Filter by year: </label>\n                  <select\n                    className=\"browser-default\"\n                    value={this.state.query3}\n                    onChange={e => this.handleYearFilter(e)}\n                  >\n                    <option value=\"\">ALL YEARS</option>\n                    <option value=\"2017\">2017</option>\n\n                    <option value=\"2018\">2018</option>\n\n                    <option value=\"2019\">2019</option>\n                  </select>\n                </div>\n\n                <div>\n                  <input\n                    type=\"text\"\n                    placeholder=\"Search...\"\n                    value={this.state.query1}\n                    onChange={e => this.setState({ query1: e.target.value })}\n                  />\n                  <label>Enter school name</label>\n\n                  <input\n                    type=\"text\"\n                    placeholder=\"Search...\"\n                    value={this.state.query2}\n                    onChange={e => this.setState({ query2: e.target.value })}\n                  />\n                  <label>Enter county</label>\n                </div>\n                <div className=\"card-action\">\n                  <label>\n                    <span className={\"exceedanceToggle\"}>\n                      Filter by exceedance:{\" \"}\n                    </span>\n                    <span\n                      onClick={event => this.onToggleQuery(event)}\n                      className={toggleExceedanceOn}\n                    >\n                      On\n                    </span>\n                    <span\n                      onClick={event => this.onToggleQuery(event)}\n                      className={toggleExceedanceOff}\n                    >\n                      Off\n                    </span>\n                  </label>\n                  <button\n                    id=\"search\"\n                    className=\"btn waves-effect waves-light green\"\n                    type=\"submit\"\n                  >\n                    <i className=\"large material-icons prefix\">search</i>\n                  </button>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n    if (!this.state.beginSearch) {\n      return (\n        <div>\n          <Splash startSearch={e => this.startSearch(e)} />\n        </div>\n      );\n    }\n\n    if (!this.state.queried) {\n      return (\n        <div>\n          <Logo />\n          {search}\n        </div>\n      );\n    } else if (this.state.queried && !this.state.detailsSelected) {\n      return (\n        <div className={classes.display}>\n          <Logo />\n          <button\n            id=\"searchToggle\"\n            className=\"waves-effect waves-dark btn-small   blue-grey\"\n            type=\"click\"\n            onClick={e => this.toggleSearch(e)}\n          >\n            New Search\n          </button>\n          {resultsDisplay}\n        </div>\n      );\n    } else {\n      return (\n        <div className={classes.display}>\n          <Logo />\n          <button\n            id=\"searchToggle\"\n            className=\"waves-effect waves-dark btn-small   blue-grey\"\n            type=\"click\"\n            onClick={e => this.toggleSearch(e)}\n          >\n            New Search\n          </button>\n          {resultsDisplay}\n          {detailsDisplay}\n        </div>\n      );\n    }\n  }\n}\n\nexport default Search;\n","import React from 'react';\nimport Search from './containers/Search/Search';\nimport Nav from './components/navbar/navbar';\nimport './App.css';\n\nclass App extends React.Component {\n  state = {\n    startSearch: false\n  }\n\n \n  \n  render() {\n      return (\n        <div className=\"App container\">\n        <div className='search'>\n        <Search />\n        </div>\n        <div className=\"sliding-background\"></div>\n      </div>\n      );\n}\n}\n\nexport default App;\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (!isLocalhost) {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      } else {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport registerServiceWorker from './registerServiceWorker';\nimport axios from 'axios';\n\naxios.interceptors.request.use(request => {\n  console.log(request);\n  return request;\n}, error => {\n  console.log(error)\n  return Promise.reject(error);\n});\n\naxios.interceptors.response.use(response => {\n  console.log(response);\n  return response;\n}, error => {\n  console.log(error)\n  return Promise.reject(error);\n});\n\nReactDOM.render( <App />, document.getElementById( 'root' ) );\nregisterServiceWorker();\n"],"sourceRoot":""}